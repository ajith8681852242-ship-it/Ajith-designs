<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ajith Studio | Order View</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        ::-webkit-scrollbar { display: none; }
        html, body { height: 100%; background-color: #ffffff; }

        .navbar { background: #ffffff; height: 60px; display: flex; align-items: center; position: fixed; width: 100%; top: 0; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .nav-container { width: 92%; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: 600; font-size: 1rem; display: flex; align-items: center; }
        .logo-blue { color: #1e90ff; }

        .app-container { margin-top: 65px; display: flex; flex-direction: column; padding: 15px 25px 100px 25px; }

        .image-box { position: relative; width: 100%; max-width: 320px; aspect-ratio: 1/1; margin: 0 auto; border: 1px solid #ddd; border-radius: 8px; padding: 4px; background: #fff; }
        .image-box img { width: 100%; height: 100%; object-fit: contain; }
        
        .box-badge { position: absolute; top: 10px; left: 10px; padding: 5px 12px; border-radius: 4px; font-size: 11px; font-weight: 700; color: #fff; z-index: 10; box-shadow: 0 2px 6px rgba(0,0,0,0.2); text-transform: uppercase; }
        .badge-normal { background: #1e90ff; }
        .badge-festival { background: #ff0000; }

        .free-blink { animation: blinker 1s linear infinite; font-weight: 800; }
        @keyframes blinker { 50% { opacity: 0; } }

        .title-row { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; }
        .design-mention-big { font-size: 19px; font-weight: 700; color: #000; }
        .design-mention-big span { color: #6a3093; }

        /* TIMER SECTION STYLES */
        .timer-row { display: none; justify-content: space-between; align-items: flex-end; margin-top: 8px; padding-bottom: 5px; }
        .fest-info { line-height: 1.2; }
        .fest-name { font-size: 13px; font-weight: 700; color: #449330; display: block; }
        .special-text { font-size: 10px; font-weight: 600; color: #ff0000; text-transform: uppercase; }
        
        .timer-container { text-align: right; }
        .timer-label { font-size: 9px; font-weight: 800; color: #6a3093; text-transform: uppercase; display: block; margin-bottom: -2px; }
        .timer-display { font-size: 14px; font-weight: 700; color: #ff0000; letter-spacing: 0.5px; }

        .qty-selector { display: flex; align-items: center; border: 1px solid #ddd; border-radius: 6px; padding: 2px 5px; height: 32px; background: #fff; }
        .qty-btn { background: none; border: none; font-size: 18px; font-weight: 600; color: #6a3093; cursor: pointer; padding: 0 8px; }
        .qty-number { font-size: 15px; font-weight: 600; min-width: 20px; text-align: center; }

        .selection-row { display: flex; align-items: center; gap: 10px; margin-top: 15px; }
        .selection-label { font-size: 11px; font-weight: 800; color: #333; text-transform: uppercase; }
        .selection-box { width: 160px; height: 34px; border: 1px solid #ccc; border-radius: 4px; padding: 0 8px; font-size: 12px; font-weight: 600; background: #fff; }

        .details-card { margin-top: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ddd; }
        .details-card h4 { font-size: 14px; color: #449330; margin-bottom: 8px; font-weight: 700; }
        .details-card ul { list-style: none; font-size: 12px; }
        .details-card ul li { margin-bottom: 6px; display: flex; align-items: center; color: #444; font-weight: 500; }
        .details-card ul li i { color: #6a3093; margin-right: 10px; }

        /* MAX DELIVERY OPTION AT THE BOTTOM OF DETAILS CARD */
        .delivery-summary { margin-top: 10px; padding-top: 8px; border-top: 1px solid #eee; display: flex; align-items: center; gap: 8px; }
        .delivery-summary span:first-child { font-size: 10px; font-weight: 800; color: #333; text-transform: uppercase; }
        .delivery-summary span:last-child { font-size: 12px; font-weight: 700; color: #ff0000; }

        .total-price-section { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; }
        .total-amount { font-size: 22px; font-weight: 700; color: #6a3093; }

        .footer-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; position: fixed; bottom: 0; left: 0; width: 100%; background: #ffffff; padding: 12px 25px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .footer-btn { height: 45px; border-radius: 6px; font-size: 14px; font-weight: 600; border: none; cursor: pointer; }
        .whatsapp-btn { background: #6a3093; color: #fff; }
    </style>
</head>
<body onload="initApp()">

    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-palette" style="margin-right:10px; color:#1e90ff;"></i>
                <span>Ajith <span class="logo-blue">studio</span></span>
            </div>
        </div>
    </nav>

    <div class="app-container">
        <div class="image-box">
            <div id="badge" class="box-badge">Checking...</div>
            <img id="displayImg" src="one-page-wall-calendar-design.jpg" alt="Preview">
        </div>

        <div class="title-row">
            <div class="design-mention-big">Calendar <span>Design</span></div>
            <div class="qty-selector">
                <button class="qty-btn" onclick="changeQty(-1)">−</button>
                <div class="qty-number" id="qtyDisplay">1</div>
                <button class="qty-btn" onclick="changeQty(1)">+</button>
            </div>
        </div>

        <div class="timer-row" id="timerRow">
            <div class="fest-info">
                <span class="fest-name" id="festNameDisp">Festival Name</span>
                <span class="special-text">Special Offer</span>
            </div>
            <div class="timer-container">
                <span class="timer-label">Offer Ends In</span>
                <div class="timer-display" id="countDown">0d 0h 0m 0s</div>
            </div>
        </div>

        <div class="selection-row">
            <div class="selection-label">Type:</div>
            <select class="selection-box" id="comboSelect" onchange="selectCombo(this.value)">
                <option value="c1" selected>1 Page</option>
                <option value="c2">12 Page</option>
                <option value="c3">Desk Calendar</option>
            </select>
        </div>
        
        <div class="details-card">
            <h4 id="offerTitle">Design Details</h4>
            <ul id="offerList"></ul>
            
            <div class="delivery-summary">
                <span>Max Delivery:</span>
                <span id="deliveryDaysDisplay">7 Days</span>
            </div>
        </div>

        <div class="total-price-section">
            <div class="total-label" style="font-weight:600">Final Total:</div>
            <div class="total-amount">₹ <span id="totalPrice">0</span></div>
        </div>

        <div class="footer-btns">
            <button class="footer-btn" style="background:#eee" onclick="history.back()">Back</button>
            <button class="footer-btn whatsapp-btn" onclick="sendToWhatsApp()">
                <i class="fab fa-whatsapp"></i> WhatsApp
            </button>
        </div>
    </div>

<script>
    const PRICES = {
        normal:   { c1: 300, c2: 800, c3: 500 },
        festival: { c1: 250, c2: 650, c3: 400 }
    };

    const FESTIVAL_DB = [
        { name: "Easter", start: { month: 2, date: 25, hour: 13, min: 55 }, end: { month: 2, date: 28, hour: 23, min: 59 }, label: "Special <span class='free-blink'>Offer</span>" },
        { name: "Tamil New Year", start: { month: 4, date: 7, hour: 0, min: 0 }, end: { month: 4, date: 15, hour: 23, min: 59 }, label: "புத்தாண்டு <span class='free-blink'>Mega Offer</span>" },
        { name: "Deepavali", start: { month: 11, date: 1, hour: 0, min: 0 }, end: { month: 11, date: 9, hour: 23, min: 59 }, label: "தீபாவளி <span class='free-blink'>Mega Dhamaka</span>" },
        { name: "Christmas", start: { month: 12, date: 18, hour: 0, min: 0 }, end: { month: 12, date: 26, hour: 23, min: 59 }, label: "Christmas <span class='free-blink'>Special Offer</span>" }
    ];

    const contentMap = {
        'c1': { h: "Single Page Calendar", img: "one-page-wall-calendar-design.jpg", items: ['Creative Design', 'High Quality Print', 'Unlimited Revision', 'Fast Delivery'], delivery: "7 Days" },
        'c2': { h: "12 Page Monthly Pack", img: "12 page calandar.jpg", items: ['Creative Design', 'High Quality Print', 'Unlimited Revision', 'Fast Delivery'], delivery: "14 Days" },
        'c3': { h: "Desk Calender Design", img: "c:\Users\ASUS\OneDrive\Pictures\HTML\new web site\desk calender 2.png", items: ['Creative Design', 'High Quality Print', 'Unlimited Revision', 'Fast Delivery'], delivery: "14 Days" }
    };

    let currentKey = 'c1', quantity = 1;

    function checkFestival() {
        const now = new Date();
        for (let fest of FESTIVAL_DB) {
            const start = new Date(now.getFullYear(), fest.start.month - 1, fest.start.date, fest.start.hour, fest.start.min);
            const end = new Date(now.getFullYear(), fest.end.month - 1, fest.end.date, fest.end.hour, fest.end.min);
            if (now >= start && now <= end) return { ...fest, endTime: end };
        }
        return null;
    }

    function updateTimer() {
        const activeFestival = checkFestival();
        const timerRow = document.getElementById('timerRow');
        
        if (activeFestival) {
            timerRow.style.display = 'flex';
            document.getElementById('festNameDisp').innerText = activeFestival.name;
            
            const now = new Date().getTime();
            const distance = activeFestival.endTime - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('countDown').innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
        } else {
            timerRow.style.display = 'none';
        }
    }

    function updateUI() {
        const activeFestival = checkFestival();
        const isFest = activeFestival !== null;
        const rates = isFest ? PRICES.festival : PRICES.normal;
        const info = contentMap[currentKey];
        const badge = document.getElementById('badge');

        if (isFest) {
            badge.innerHTML = activeFestival.label;
            badge.className = "box-badge badge-festival";
        } else {
            badge.innerHTML = "Best Price";
            badge.className = "box-badge badge-normal";
        }

        document.getElementById('offerTitle').innerText = info.h;
        document.getElementById('totalPrice').innerText = rates[currentKey] * quantity;
        document.getElementById('displayImg').src = info.img;
        document.getElementById('deliveryDaysDisplay').innerText = info.delivery;
        
        const list = document.getElementById('offerList');
        list.innerHTML = info.items.map(item => `<li><i class="fas fa-check-circle"></i> ${item}</li>`).join('');
        
        updateTimer();
    }

    function changeQty(val) { quantity = Math.max(1, quantity + val); document.getElementById('qtyDisplay').innerText = quantity; updateUI(); }
    function selectCombo(key) { currentKey = key; updateUI(); }
    
    function sendToWhatsApp() {
        const price = document.getElementById('totalPrice').innerText;
        const info = contentMap[currentKey];
        const msg = `*New Order*%0AItem: ${info.h}%0AQty: ${quantity}%0ADelivery: ${info.delivery}%0A*Total: ₹${price}*`;
        window.open(`https://wa.me/7845188347?text=${msg}`, '_blank');
    }

    function initApp() { 
        updateUI(); 
        setInterval(updateUI, 1000);
    }
</script>
</body>
</html>